<!DOCTYPE html>

<style>
    .button {
        width: 100px;
        height: 100px;
    }
    .vertical-center {
        position: absolute;
        left: 50%;
    }
    .container {
        height: 200px;
        position: relative;
        border: 3px solid white;
    }
</style>

<script type="text/javascript" src="settings.json"></script>
<script>
    function load() {
        var settings = JSON.parse(data);
    }
    
</script>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Minimal working example</title>
</head>
<body>
    <ul id="events"></ul>

    <script src="/socket.io/socket.io.js"></script>

    <div class="container">
        <div class="vertical-center">
            <script>
                var talking = false;
                function changeState() {
                    if (talking == false) {
                        talking = true;
                        document.getElementById("talkButton").innerHTML = "Listening...";
                    }
                    else if (talking == true) {
                        talking = false;
                        document.getElementById("talkButton").innerHTML = "Start Talking";
                    }
                }
            </script>

            <button class="button" id="talkButton" onclick="changeState()"></button>

            <script>
                if (talking == false) {
                    document.getElementById("talkButton").innerHTML = "Start Talking";
                }
                if (talking == true) {
                    document.getElementById("talkButton").innerHTML = "Listening...";
                }
            </script>
        </div>
    </div>

    <script>
        const $events = document.getElementById('events');

        const newItem = (content) => {
          const item = document.createElement('li');
          item.innerText = content;
          return item;
        };

        const socket = io();

        socket.on('connect', () => {
            $events.appendChild(newItem('connect'));
        });

    
        
    </script>
</body>
</html>